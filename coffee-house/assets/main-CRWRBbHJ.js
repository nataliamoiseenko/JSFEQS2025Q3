import{f as v,E as p}from"./api-CdfmFmXS.js";import{F as f}from"./products-_4Q0D1Ka.js";let a=0;const g=document.getElementById("carousel"),E=document.getElementById("controls"),_=document.getElementById("carousel-loading"),h=document.getElementById("carousel-error"),y=document.getElementById("carousel-prev"),L=document.getElementById("carousel-next"),u=document.getElementById("carousel-content"),I=(e,n)=>{const s=document.createElement("img");s.src=e.imgSrc,s.alt=e.name,s.classList.add("favourites__img");const t=document.createElement("h3");t.innerText=e.name,t.classList.add("favourites__carousel-title","heading-3");const c=document.createElement("p");c.innerText=e.description,c.classList.add("favourites__carousel-subtitle","body-medium");const d=document.createElement("h3");d.innerText=`$${e.price}`,d.classList.add("favourites__carousel-price","heading-3");const o=document.createElement("div");o.classList.add("favourites__carousel-caption"),o.appendChild(t),o.appendChild(c),o.appendChild(d);const l=document.createElement("div");l.classList.add("favourites__carousel-item"),l.appendChild(s),l.appendChild(o),n===a&&l.classList.add("_active"),g.appendChild(l);const i=document.createElement("button");i.classList.add("favourites__carousel-control"),i.addEventListener("click",r.bind(null,n)),n===a&&i.classList.add("_active"),E.appendChild(i)},r=e=>{const n=document.getElementsByClassName("favourites__carousel-item"),s=document.getElementsByClassName("favourites__carousel-control");e>=n.length?e=e%n.length:e<0&&(e=n.length+e);for(let t=0;t<n.length;t++)e===t?(n[t].classList.add("_active"),s[t].classList.add("_active")):(n[t].classList.remove("_active"),s[t].classList.remove("_active"));a=e},C=async()=>{try{(await v(p.FAVOURITES)).map(s=>{const t=f.find(c=>c.id===s.id)?.imgSrc??"";return{...s,imgSrc:t}}).forEach((s,t)=>I(s,t)),u.style.display="flex"}catch{h.style.display="flex"}finally{_.style.display="none"}};C();let m=setInterval(()=>r(a+1),3e3);y.addEventListener("click",()=>r(a-1));L.addEventListener("click",()=>r(a+1));u.addEventListener("mouseenter",()=>{clearInterval(m),m=null});u.addEventListener("mouseleave",()=>{m??=setInterval(()=>r(a+1),3e3)});
