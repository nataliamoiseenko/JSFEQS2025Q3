import{f as u,E as v,S as c}from"./api-CdfmFmXS.js";const E=document.getElementById("register-form"),r=document.getElementById("login"),s=document.getElementById("password"),o=document.getElementById("password-confirm"),n=document.getElementById("house"),i=document.getElementById("register-error"),f=()=>{const e=/^[a-zA-Z]{3,}$/,t=r.value;e.test(t)?r.classList.remove("_error"):r.classList.add("_error")},L=()=>{const e=/^(?=.*[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]).{6,}$/,t=s.value;e.test(t)?s.classList.remove("_error"):s.classList.add("_error")},g=()=>{const e=s.value,t=o.value;e===t?o.classList.remove("_error"):o.classList.add("_error")},p=()=>{const e=n.value;Number(e)>=1?n.classList.remove("_error"):n.classList.add("_error")},y=async e=>{e.preventDefault();const t=new FormData(e.target),d=Number(t.get("houseNumber")),l={...Object.fromEntries(t),houseNumber:d};try{i.style.display="none";const{access_token:a,user:m}=await u(v.REGISTER,{method:"POST"},JSON.stringify(l));localStorage.setItem(c.ACCESS_TOKEN,a),localStorage.setItem(c.USER,JSON.stringify(m)),window.location.replace("/menu")}catch(a){i.innerText=a,i.style.display="block"}};r.addEventListener("blur",f);r.addEventListener("focus",()=>r.classList.remove("_error"));s.addEventListener("blur",L);s.addEventListener("focus",()=>s.classList.remove("_error"));o.addEventListener("blur",g);o.addEventListener("focus",()=>o.classList.remove("_error"));n.addEventListener("blur",p);n.addEventListener("focus",()=>n.classList.remove("_error"));E.addEventListener("submit",y);
